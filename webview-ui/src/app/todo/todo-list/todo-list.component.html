<div
  class="todo-list-container"
  [class.has-selection]="hasSelection"
>
  <div class="todo-list-scroll">
    <div
      cdkDropList
      (cdkDropListDropped)="onDrop($event)"
      [cdkDropListSortPredicate]="sortPredicate"
      [cdkDropListAutoScrollStep]="8"
      [cdkDropListDisabled]="isFilterActive"
    >
      @for (todo of todos; track trackById($index, todo)) {
        <div
          [@leaveAnimation]
          [@.disabled]="!isLeaveAnimationEnabled"
          #dragItem
          [attr.data-id]="todo.id"
          cdkDrag
          [cdkDragData]="todo"
          [cdkDragDisabled]="isFilterActive"
          (cdkDragStarted)="dragStarted()"
          (cdkDragEnded)="dragEnded()"
          [class.is-selected]="isSelected(todo.id)"
          [attr.aria-selected]="isSelected(todo.id) ? 'true' : null"
          role="listitem"
        >
          <div [@enterAnimation] [@.disabled]="!isEnterAnimationEnabled">
            <todo-item
              [todo]="todo"
              [scope]="scope"
              [selected]="isSelected(todo.id)"
              [selectionMode]="hasSelection"
              [selectionCount]="selectedCount"
              (delete)="handleDelete($event)"
              [class.note]="todo.isNote"
            >
            </todo-item>
          </div>
        </div>
      }
    </div>
  </div>
</div>
